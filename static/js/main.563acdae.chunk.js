(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{40:function(e,a,t){e.exports=t(72)},45:function(e,a,t){},51:function(e,a,t){},72:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"traerTodos",(function(){return C}));var n={};t.r(n),t.d(n,"traerTodas",(function(){return K})),t.d(n,"cambioUsuarioId",(function(){return L})),t.d(n,"cambioTitulo",(function(){return Q})),t.d(n,"agregar",(function(){return W})),t.d(n,"editar",(function(){return X})),t.d(n,"cambioCheck",(function(){return Y})),t.d(n,"eliminar",(function(){return Z})),t.d(n,"limpiarForma",(function(){return $}));var c=t(0),o=t.n(c),s=t(22),u=t.n(s),i=(t(45),t(10)),l=t(17),p=function(e){return o.a.createElement("div",{className:" menu"},o.a.createElement("nav",{className:" container  text-center"},o.a.createElement(i.b,{className:"btn btn-outline-light mr-4",to:"/BlogPlatzi-deploy"},"Usuarios"),o.a.createElement(i.b,{className:"btn btn-outline-light",to:"/tareas"},"Tareas")))},m=t(13),d=t(14),b=t(16),f=t(15),h=t(4),y=(t(51),function(){return o.a.createElement("div",{className:"center"},o.a.createElement("div",{className:"lds-ellipsis"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null)))}),v=function(e){return o.a.createElement("h2",{className:"center rojo"},e.mensaje)},g=Object(h.b)((function(e){return e.usuariosReducer}))((function(e){return o.a.createElement("table",{className:"tabla"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Nombre"),o.a.createElement("th",null,"Correo"),o.a.createElement("th",null,"Enlace"))),o.a.createElement("tbody",null,e.usuarios.map((function(e,a){return o.a.createElement("tr",{className:"pl-4",key:e.id},o.a.createElement("td",{className:"pl-2"},e.name),o.a.createElement("td",null,e.email),o.a.createElement("td",null,e.website),o.a.createElement("td",{className:"pr-1 pl-2"},o.a.createElement(i.b,{to:"/publicaciones/".concat(a)},o.a.createElement("p",{className:"btn btn-outline-secondary m-0"}," Ver "))))}))))})),E=t(3),j=t.n(E),_=t(8),O=t(11),k=t.n(O),N="usuarios_traer_todos",x="usuarios_cargando",w="usuarios_error",C=function(){return function(){var e=Object(_.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:x}),e.prev=1,e.next=4,k.a.get("https://jsonplaceholder.typicode.com/users");case 4:t=e.sent,a({type:N,payload:t.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message),a({type:w,payload:"Informaci\xf3n de usuario no disponible."});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}()},R=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).ponerContenido=function(){return e.props.cargando?o.a.createElement(y,null):e.props.error?o.a.createElement(v,{mensaje:e.props.error}):o.a.createElement(g,null)},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.usuarios.length||this.props.traerTodos()}},{key:"render",value:function(){return o.a.createElement("div",{className:"container container-sm"},o.a.createElement("h1",{className:"mb-4 mt-4"},"Usuarios"),this.ponerContenido())}}]),t}(c.Component),T=Object(h.b)((function(e){return e.usuariosReducer}),r)(R),I=Object(h.b)((function(e){return e.publicacionesReducer}))((function(e){if(e.com_error)return o.a.createElement(v,{mensaje:e.com_error});if(e.com_cargando&&!e.comentarios.length)return o.a.createElement(y,null);return o.a.createElement("ul",null,o.a.createElement("p",{className:"comentarios_titulo"},"Comentarios"),e.comentarios.map((function(e){return o.a.createElement("li",{key:e.id,className:"comentarios"},o.a.createElement("b",null,o.a.createElement("u",null,e.email)),o.a.createElement("br",null),e.body)})))})),U=t(19),P=t(1),z="publicaciones_actualizar",A=C,D=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t,r){var n,c,o,s,u,i,l,p;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"publicaciones_cargando"}),n=r().usuariosReducer.usuarios,c=r().publicacionesReducer.publicaciones,o=n[e].id,a.prev=4,a.next=7,k.a.get("https://jsonplaceholder.typicode.com/posts?userId=".concat(o));case 7:s=a.sent,u=s.data.map((function(e){return Object(P.a)({},e,{comentarios:[],abierto:!1})})),i=[].concat(Object(U.a)(c),[u]),t({type:z,payload:i}),l=i.length-1,(p=Object(U.a)(n))[e]=Object(P.a)({},n[e],{publicaciones_key:l}),t({type:"usuarios_traer_todos",payload:p}),a.next=21;break;case 17:a.prev=17,a.t0=a.catch(4),console.log(a.t0.message),t({type:"publicaciones_error",payload:"Publicaciones no disponibles."});case 21:case"end":return a.stop()}}),a,null,[[4,17]])})));return function(e,t){return a.apply(this,arguments)}}()},M=function(e,a){return function(t,r){var n=r().publicacionesReducer.publicaciones,c=n[e][a],o=Object(P.a)({},c,{abierto:!c.abierto}),s=Object(U.a)(n);s[e]=Object(U.a)(n[e]),s[e][a]=o,t({type:z,payload:s})}},B=function(e,a){return function(){var t=Object(_.a)(j.a.mark((function t(r,n){var c,o,s,u,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:"comentarios_cargando"}),c=n().publicacionesReducer.publicaciones,o=c[e][a],t.prev=3,t.next=6,k.a.get("https://jsonplaceholder.typicode.com/comments?postId=".concat(o.id));case 6:s=t.sent,u=Object(P.a)({},o,{comentarios:s.data}),(i=Object(U.a)(c))[e]=Object(U.a)(c[e]),i[e][a]=u,r({type:"comentarios_actualizar",payload:i}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.log(t.t0.message),r({type:"comentarios_error",payload:"Comentarios no disponibles."});case 18:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,a){return t.apply(this,arguments)}}()},S=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).ponerUsuario=function(){var a=e.props,t=a.match.params.key,r=a.usuariosReducer;if(r.error)return o.a.createElement(v,{mensaje:r.error});if(!r.usuarios.length||r.cargando)return o.a.createElement(y,null);var n=r.usuarios[t].name;return o.a.createElement("h1",{className:"pub_usuario mt-4 mb-4"},"Publicaciones de ",n)},e.ponerPublicaciones=function(){var a=e.props,t=a.usuariosReducer,r=a.usuariosReducer.usuarios,n=a.publicacionesReducer,c=a.publicacionesReducer.publicaciones,s=a.match.params.key;if(r.length&&!t.error){if(n.cargando)return o.a.createElement(y,null);if(n.error)return o.a.createElement(v,{mensaje:n.error});if(c.length&&"publicaciones_key"in r[s]){var u=r[s].publicaciones_key;return e.mostrarInfo(c[u],u)}}},e.mostrarInfo=function(a,t){return a.map((function(a,r){return o.a.createElement("div",{key:a.id,className:"centrar"},o.a.createElement("div",{className:"pub_container",onClick:function(){return e.mostrarComentarios(t,r,a.comentarios)}},o.a.createElement("h2",{className:"pub_titulo"},a.title),o.a.createElement("p",null,a.body),a.abierto?o.a.createElement(I,{comentarios:a.comentarios}):""))}))},e.mostrarComentarios=function(a,t,r){e.props.abrirCerrar(a,t),r.length||e.props.traerComentarios(a,t)},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(_.a)(j.a.mark((function e(){var a,t,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,t=a.usuariosTraerTodos,r=a.match.params.key,n=a.publicacionesTraerPorUsuario,this.props.usuariosReducer.usuarios.length){e.next=4;break}return e.next=4,t();case 4:if(!this.props.usuariosReducer.error){e.next=6;break}return e.abrupt("return");case 6:if("publicaciones_key"in this.props.usuariosReducer.usuarios[r]){e.next=9;break}return e.next=9,n(r);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement("div",null,this.ponerUsuario(),this.ponerPublicaciones())}}]),t}(c.Component),F={usuariosTraerTodos:A,publicacionesTraerPorUsuario:D,abrirCerrar:M,traerComentarios:B},G=Object(h.b)((function(e){return{usuariosReducer:e.usuariosReducer,publicacionesReducer:e.publicacionesReducer}}),F)(S),J=t(24),V="tareas_traer_todas",q="tareas_guardada",H="tareas_limpiar",K=function(){return function(){var e=Object(_.a)(j.a.mark((function e(a){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"tareas_cargando"}),e.prev=1,e.next=4,k.a.get("https://jsonplaceholder.typicode.com/todos");case 4:t=e.sent,r={},t.data.map((function(e){return r[e.userId]=Object(P.a)({},r[e.userId],Object(J.a)({},e.id,Object(P.a)({},e)))})),a({type:V,payload:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message),a({type:"tareas_error",payload:"Tareas no disponibles."});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}()},L=function(e){return function(a){a({type:"tareas_cambio_usuario_id",payload:e})}},Q=function(e){return function(a){a({type:"tareas_cambio_titulo",payload:e})}},W=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.post("https://jsonplaceholder.typicode.com/todos",e);case 4:t({type:q}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},X=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.put("https://jsonplaceholder.typicode.com/todos/".concat(e.id),e);case 4:t({type:q}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},Y=function(e,a){return function(t,r){var n=r().tareasReducer.tareas,c=n[e][a],o=Object(P.a)({},n);o[e]=Object(P.a)({},n[e]),o[e][a]=Object(P.a)({},n[e][a],{completed:!c.completed}),t({type:"tareas_actualizar",payload:o})}},Z=function(e){return function(){var a=Object(_.a)(j.a.mark((function a(t){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"tareas_cargando"}),a.prev=1,a.next=4,k.a.delete("https://jsonplaceholder.typicode.com/todos/".concat(e));case 4:t({type:V,payload:{}}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.message),t({type:"tareas_error",payload:"Servicio no disponible en este momento."});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()},$=function(){return function(e){e({type:H})}},ee=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).mostrarContenido=function(){var a=e.props,t=a.tareas,r=a.cargando,n=a.error;return r?o.a.createElement(y,null):n?o.a.createElement(v,{mensaje:n}):Object.keys(t).map((function(a){return o.a.createElement("div",{key:a},o.a.createElement("h2",{className:"mb-4"},"Usuario ",a),o.a.createElement("div",{className:"contenedor_tareas"},e.ponerTareas(a)))}))},e.ponerTareas=function(a){var t=e.props,r=t.tareas,n=t.cambioCheck,c=t.eliminar,s=Object(P.a)({},r[a]);return Object.keys(s).map((function(e){return o.a.createElement("div",{key:e},o.a.createElement("div",{className:"tareas_item"},o.a.createElement("div",{className:"check"},o.a.createElement("input",{className:"mr-2",type:"checkbox",defaultChecked:s[e].completed,onChange:function(){return n(a,e)}}),s[e].title),o.a.createElement("div",{className:"tareas_botones"},o.a.createElement(i.b,{className:" btn btn-outline-secondary",to:"/tareas/guardar/".concat(a,"/").concat(e)},"Editar"),o.a.createElement("button",{className:"btn btn-outline-secondary ml-2",onClick:function(){return c(e)}},"Eliminar"))))}))},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){Object.keys(this.props.tareas).length||this.props.traerTodas()}},{key:"componentDidUpdate",value:function(){var e=this.props,a=e.tareas,t=e.cargando,r=e.traerTodas;Object.keys(a).length||t||r()}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-right mt-4"},o.a.createElement(i.b,{to:"/tareas/guardar",className:"btn btn-outline-secondary"},"Agregar Tarea")),this.mostrarContenido())}}]),t}(c.Component),ae=Object(h.b)((function(e){return e.tareasReducer}),n)(ee),te=function(e){Object(b.a)(t,e);var a=Object(f.a)(t);function t(){var e;Object(m.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=a.call.apply(a,[this].concat(n))).cambioUsuarioId=function(a){e.props.cambioUsuarioId(a.target.value)},e.cambioTitulo=function(a){e.props.cambioTitulo(a.target.value)},e.guardar=function(){var a=e.props,t=a.match.params,r=t.usu_id,n=t.tar_id,c=a.tareas,o=a.usuario_id,s=a.titulo,u=a.agregar,i=a.editar,l={userId:o,title:s,completed:!1};if(r&&n){var p=c[r][n];i(Object(P.a)({},l,{completed:p.completed,id:p.id}))}else u(l)},e.deshabilitar=function(){var a=e.props,t=a.usuario_id,r=a.titulo;return!!a.cargando||(!t||!r)},e.mostrarAccion=function(){var a=e.props,t=a.error;return a.cargando?o.a.createElement(y,null):t?o.a.createElement(v,{mensaje:t}):void 0},e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.match.params,t=a.usu_id,r=a.tar_id,n=e.tareas,c=e.cambioUsuarioId,o=e.cambioTitulo,s=e.limpiarForma;if(t&&r){var u=n[t][r];c(u.userId),o(u.title)}else s()}},{key:"render",value:function(){return o.a.createElement("div",{className:"container mt-4"},o.a.createElement("div",{className:"card tarjeta "},this.props.regresar?o.a.createElement(l.a,{to:"/tareas"}):"",o.a.createElement("h1",{className:"card-header"},"Guardar Tarea"),o.a.createElement("div",{className:"p-4"},"Usuario id:",o.a.createElement("input",{className:"form-control",type:"number",value:this.props.usuario_id,onChange:this.cambioUsuarioId}),o.a.createElement("br",null),o.a.createElement("br",null),"T\xedtulo:",o.a.createElement("input",{className:"form-control",value:this.props.titulo,onChange:this.cambioTitulo}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-success guardar",disabled:this.deshabilitar(),onClick:this.guardar},"Guardar"))),this.mostrarAccion()))}}]),t}(c.Component),re=Object(h.b)((function(e){return e.tareasReducer}),n)(te),ne=function(e){return o.a.createElement(i.a,null,o.a.createElement(p,null),o.a.createElement("div",{id:"container"},o.a.createElement(l.b,{exact:!0,path:"/BlogPlatzi-deploy",component:T}),o.a.createElement(l.b,{exact:!0,path:"/tareas",component:ae}),o.a.createElement(l.b,{exact:!0,path:"/publicaciones/:key",component:G}),o.a.createElement(l.b,{exact:!0,path:"/tareas/guardar",component:re}),o.a.createElement(l.b,{exact:!0,path:"/tareas/guardar/:usu_id/:tar_id",component:re})))},ce=(t(71),t(18)),oe=t(39),se={usuarios:[],cargando:!1,error:""},ue={publicaciones:[],cargando:!1,error:"",com_cargando:!1,com_error:""},ie={tareas:{},cargando:!1,error:"",usuario_id:"",titulo:"",regresar:!1},le=Object(ce.c)({usuariosReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return Object(P.a)({},e,{usuarios:a.payload,cargando:!1,error:""});case x:return Object(P.a)({},e,{cargando:!0});case w:return Object(P.a)({},e,{error:a.payload,cargando:!1});default:return e}},publicacionesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(P.a)({},e,{publicaciones:a.payload,cargando:!1,error:""});case"publicaciones_cargando":return Object(P.a)({},e,{cargando:!0});case"publicaciones_error":return Object(P.a)({},e,{error:a.payload,cargando:!1});case"comentarios_actualizar":return Object(P.a)({},e,{publicaciones:a.payload,com_cargando:!1,com_error:""});case"comentarios_cargando":return Object(P.a)({},e,{com_cargando:!0});case"comentarios_error":return Object(P.a)({},e,{com_error:a.payload,com_cargando:!1});default:return e}},tareasReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case V:return Object(P.a)({},e,{tareas:a.payload,cargando:!1,error:"",regresar:!1});case"tareas_cargando":return Object(P.a)({},e,{cargando:!0});case"tareas_error":return Object(P.a)({},e,{error:a.payload,cargando:!1});case"tareas_cambio_usuario_id":return Object(P.a)({},e,{usuario_id:a.payload});case"tareas_cambio_titulo":return Object(P.a)({},e,{titulo:a.payload});case q:return Object(P.a)({},e,{tareas:{},cargando:!1,error:"",regresar:!0,usuario_id:"",titulo:""});case"tareas_actualizar":return Object(P.a)({},e,{tareas:a.payload});case H:return Object(P.a)({},e,{usuario_id:"",titulo:""});default:return e}}}),pe=Object(ce.d)(le,{},Object(ce.a)(oe.a));u.a.render(o.a.createElement(h.a,{store:pe},o.a.createElement(ne,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.563acdae.chunk.js.map